<toaster-container
        toaster-options="{'time-out': 6000, 'close-button':true, 'animation-class': 'toast-top-right', 'prevent-duplicates': true}"></toaster-container>
<dc-spinner spinner-mode="indeterminiate" show="irc.importInProgress"></dc-spinner>
<md-content>
    <md-toolbar layout-padding>
        <div class="md-toolbar-tools">
            <h2 message-key="dc_databaseConnector.label.modal.importResults"></h2>
            <span flex></span>
            <md-button class="md-icon-button"
                       ng-click="irc.goToConnections()">
                <md-icon class="md-secondary"><i class="fa fa-home fa-2x"></i></md-icon>
                <md-tooltip class="noToolTipAnimation"
                            md-direction="top"
                            md-delay="500">
                    <span  message-key="dc_databaseConnector.label.goBack"></span>
                </md-tooltip>
            </md-button>
            <md-button class="md-icon-button"
                       ng-click="irc.reImportConnections()"
                       ng-disabled="irc.isReImportDisabled()">
                <md-icon class="md-secondary"><i class="fa fa-upload fa-2x"></i></md-icon>
                <md-tooltip class="noToolTipAnimation"
                            md-direction="top"
                            md-delay="500">
                    <span message-key="dc_databaseConnector.label.modal.reimportConnections"></span>
                </md-tooltip>
            </md-button>
        </div>
    </md-toolbar>
    <md-list>
        <div ng-if="irc.hasResults(connectorMetaData.databaseType)" ng-repeat="connectorMetaData in irc.connectorsMetaData">
            <md-subheader>
                <h4>{{irc.getFormattedImportHeader(connectorMetaData.displayName)}}</h4>
            </md-subheader>
            <md-divider></md-divider>
            <md-list-item ng-repeat="failedConnection in irc.importResults[connectorMetaData.databaseType].failed track by $index">
                <div class="errorStatusBar"></div>
                <div>
                    <h3>
                        {{failedConnection.id}}
                    </h3>
                    <span>
                        {{irc.getMessage('dc_databaseConnector.importResultsDirective.message.' + failedConnection.statusMessage)}}
                    </span>
                </div>
                <md-checkbox class="green md-secondary"
                             aria-label="Select connection"
                             ng-model="failedConnection.reImport"
                             ng-true-value="'{{$index}}'"
                             ng-false-value="null"
                             ng-change="irc.updateSelectedImports($index, connectorMetaData.databaseType)">
                </md-checkbox>
                <md-icon class="md-secondary"
                           aria-label="Edit import connection"
                           ng-click="irc.editConnection($index, connectorMetaData.databaseType, $event)">
                    <i class="fa fa-pencil"></i>
                    <md-tooltip class="noToolTipAnimation"
                                md-direction="top"
                                md-delay="500">
                        <span message-key="dc_databaseConnector.label.edit"></span>
                    </md-tooltip>
                </md-icon>
                <md-icon class="md-secondary"
                           aria-label="Import connection"
                           ng-click="irc.reImportConnection(failedConnection, $index)">
                    <i class="fa fa-upload"></i>
                    <md-tooltip class="noToolTipAnimation"
                                md-direction="top"
                                md-delay="500">
                        <span message-key="dc_databaseConnector.label.modal.reimportConnection"></span>
                    </md-tooltip>
                </md-icon>
                <md-divider></md-divider>
            </md-list-item>

            <md-list-item ng-repeat="successConnection in irc.importResults[connectorMetaData.databaseType].success">
                <div class="successStatusBar"></div>
                <div>
                    <h3>
                        {{successConnection.id}}
                    </h3>
                    <span message-key="dc_databaseConnector.label.modal.successfullyImported"></span>
                </div>
                <md-divider></md-divider>
            </md-list-item>
        </div>
    </md-list>
</md-content>